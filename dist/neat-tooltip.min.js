var Tooltip;!function(t){function o(t,o,i){void 0===i&&(i=!0);for(var e=this,n=0;n<e.length;n++)if(i&&e.get(n)==o||$.contains(e.get(n),o))return!0;return!1}t.activeTooltip,function(t){t[t.bottom=0]="bottom",t[t.top=1]="top"}(t.Position||(t.Position={}));var i=t.Position;!function(t){t[t.title=0]="title",t[t.href=1]="href"}(t.Source||(t.Source={}));t.Source;!function(t){t[t.hover=0]="hover",t[t.click=1]="click"}(t.ShowOn||(t.ShowOn={}));t.ShowOn;!function(i){i.fn.tooltip=function(t){return t=i.extend({position:0,source:0,cssClass:"",showOn:0,closeSelector:".tooltip-close",distance:5},t),this.each(function(){new e(this,t)})},i("html").click(function(i){if(t.activeTooltip){var e=t.activeTooltip.tooltip.add(t.activeTooltip.target);t.activeTooltip&&!o(e,i.target)&&t.activeTooltip.close()}}),i(window).resize(function(){t.activeTooltip&&t.activeTooltip.position()})}(jQuery);var e=function(){function o(t,o){var i=this;this.targetElem=t,this.options=o,t.tooltip=this,this.target=$(t).addClass("has-tooltip");var e=this;if(0==o.showOn){var n=function(){e.target=$(this),e.show()};this.target.hover(n,function(){return i.close()}).click(n)}else this.target.click(function(){return e.target=$(this),e.toggle(),!1})}return o.prototype.initContent=function(){var t=this;if(!this.content){if(0==this.options.source){var o=this.target.attr("title");if(!o)return;this.target.attr("data-title",o).attr("title",""),this.content=$("<span/>").html(o)}else 1==this.options.source&&(this.content=$(this.target.attr("href")),this.content.length||(this.content=null));this.content&&this.content.find(this.options.closeSelector).click(function(){return t.close(),!1})}},o.prototype.toggle=function(){this.tooltip?this.close():this.show()},o.prototype.show=function(){if(this.initContent(),this.content){t.activeTooltip&&t.activeTooltip.close();{var o=(this.target,this.options);this.tooltip=$('<div class="tooltip-frame"/>').addClass(o.cssClass).addClass("tooltip-"+i[o.position]).append(this.content.show()).append($('<div class="tip"/>')).appendTo("body")}t.activeTooltip=this,this.position()}},o.prototype.position=function(){var t=10,o=this.tooltip,i=this.target,e=this.options;if(o){o.removeAttr("style");var n=i.offset(),s=$(window).width(),c=o.outerWidth(),r=n.left+i.outerWidth()/2-c/2;t>r&&(r=t);var l=r+c-(s-t);l>0&&(r=Math.max(r-l,t)),o.css({left:r+"px","max-width":s-r-t+"px"}).find(".tip").css("left",n.left+i.outerWidth()/2-r+"px");var h=o.outerHeight();o.css("top",1==e.position?n.top-h-e.distance:n.top+i.outerHeight()+e.distance)}},o.prototype.close=function(){this.tooltip&&(this.content.hide().appendTo("body"),this.tooltip.remove(),this.tooltip=null,t.activeTooltip=null)},o}();t.Tooltip=e}(Tooltip||(Tooltip={}));