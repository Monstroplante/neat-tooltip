var Tooltip;!function(t){function o(){for(var o=0;o<t.activeTooltips.length;o++)t.activeTooltips[o].close()}function i(t,o,i){void 0===i&&(i=!0);for(var s=0;s<t.length;s++)if(i&&t.get(s)==o||$.contains(t.get(s),o))return!0;return!1}t.activeTooltips=[],function(o){o.fn.showTooltip=function(t){return this.each(function(){new s(this,t)})},o.fn.closeTooltip=function(t){return this.each(function(){var t=o(this).data("_tooltip");t&&t.close()})},o.fn.tooltip=function(t,i,s){if(void 0===i&&(i="hover"),"hover"==i){var e=function(){o(this).showTooltip(t)};this.on("mouseenter",s,e).on("mouseleave",s,function(){o(this).closeTooltip()}).on("click",s,e)}else{if("click"!=i)throw"This value is not supported for argument showOn: "+i;this.on("click",s,function(){var i=o(this);return i.data("_tooltip")?i.closeTooltip():i.showTooltip(t),!1})}return this},o("html").click(function(o){for(var s=0;s<t.activeTooltips.length;s++){var e=t.activeTooltips[s],n=e.tooltip.add(e.target);e&&e.options.closeOnClickOuside&&!i(n,o.target)&&e.close()}}),o(window).resize(function(){for(var o=0;o<t.activeTooltips.length;o++)t.activeTooltips[o].position()})}(jQuery);var s=function(){function i(t,o){var i=this;this.targetElem=t,this.options=o,this.closeCallback=function(){return i.close(),!1},this.options=$.extend({position:"bottom",source:"title",cssClass:"",closeSelector:".tooltip-close",distance:5,allowMultiple:!1,closeOnClickOuside:!0,delay:200,container:window,margin:10},o),this.target=$(t).addClass("has-tooltip").closeTooltip().data("_tooltip",this),this.showTimeout=setTimeout(function(){return i.show()},this.options.delay)}return i.prototype.getContent=function(){var t=this.options.content;if(t)return t=$.isFunction(t)?t.call(this.target):t,t?"string"==typeof t?$("<div>").html(t):$(t):null;if("title"==this.options.source){var o=this.target.attr("title")||this.target.data("title");return this.target.attr("title","").data("title",o),$("<div>").html(o)}if("anchor"==this.options.source){var i=$(this.target.attr("href"));return i.length?i:null}},i.prototype.show=function(){if(this.content=this.getContent(),this.content){this.options.allowMultiple||o(),this.content.off("click",this.closeCallback).on("click",this.options.closeSelector,this.closeCallback);var i=this.options;this.tooltip=$('<div class="tooltip-frame"/>').addClass(i.cssClass).addClass("tooltip-"+i.position).append(this.content.show()).append($('<div class="tip"/>')),t.activeTooltips.push(this),this.position()}},i.prototype.position=function(){var t=this.options.margin,o=this.tooltip,i=this.target,s=this.options;if(o){o.removeAttr("style").appendTo("body");var e=i.offset(),n=this.options.container,l=n===window?0:$(n).offset().left,a=l+t,c=l+$(n).outerWidth()-t,r=o.outerWidth(),p=Math.max(a,e.left+i.outerWidth()/2-r/2),h=p+r-c;h>0&&(p=Math.max(a,p-h)),"static"==i.css("position")&&i.css("position","relative"),o.css({left:p-e.left+"px",width:Math.min(r+1,c-p)+"px"}).find(".tip").css("left",e.left+i.outerWidth()/2-p+"px");var u=o.outerHeight();o.css("top",("top"==s.position?e.top-u-s.distance:e.top+i.outerHeight()+s.distance)-e.top).appendTo(i)}},i.prototype.close=function(){clearTimeout(this.showTimeout),this.tooltip&&("anchor"==this.options.source&&this.content.hide().appendTo("body"),this.tooltip.remove(),this.tooltip=null,this.target.data("_tooltip",null),t.activeTooltips.splice(t.activeTooltips.indexOf(this),1))},i}();t.Tooltip=s}(Tooltip||(Tooltip={}));