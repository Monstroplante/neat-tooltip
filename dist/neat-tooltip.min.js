var Tooltip;!function(t){function o(t,o,i){void 0===i&&(i=!0);for(var s=0;s<t.length;s++)if(i&&t.get(s)==o||$.contains(t.get(s),o))return!0;return!1}t.activeTooltips=[],function(t){t[t.bottom=0]="bottom",t[t.top=1]="top"}(t.Position||(t.Position={}));var i=t.Position;!function(t){t[t.title=0]="title",t[t.anchor=1]="anchor"}(t.Source||(t.Source={}));t.Source;!function(t){t[t.hover=0]="hover",t[t.click=1]="click"}(t.ShowOn||(t.ShowOn={}));t.ShowOn;!function(i){i.fn.showTooltip=function(t){return this.each(function(){new s(this,t)})},i.fn.closeTooltip=function(t){return this.each(function(){var t=i(this).data("tooltip");t&&t.close()})},i.fn.tooltip=function(t,o){if(void 0===o&&(o=0),0==o){var s=function(){i(this).showTooltip(t)};this.hover(s,function(){i(this).closeTooltip()}).click(s)}else 1==o&&this.click(function(){var o=i(this);return console.log(o.data("tooltip")),o.data("tooltip")?o.closeTooltip():o.showTooltip(t),!1});return this},i("html").click(function(i){for(var s=0;s<t.activeTooltips.length;s++){var e=t.activeTooltips[s],n=e.tooltip.add(e.target);e&&!o(n,i.target)&&e.close()}}),i(window).resize(function(){for(var o=0;o<t.activeTooltips.length;o++)t.activeTooltips[o].position()})}(jQuery);var s=function(){function o(t,o){var i=this;this.targetElem=t,this.options=o,this.closeCallback=function(){return i.close(),!1},this.options=$.extend({position:0,source:0,cssClass:"",closeSelector:".tooltip-close",distance:5},o),this.target=$(t).addClass("has-tooltip").closeTooltip().data("tooltip",this),this.show()}return o.prototype.getContent=function(){if(0==this.options.source){var t=this.target.attr("title")||this.target.data("title");return this.target.attr("title","").data("title",t),$("<span/>").html(t)}if(1==this.options.source){var o=$(this.target.attr("anchor"));return o.length?o:null}},o.prototype.toggle=function(){this.tooltip?this.close():this.show()},o.prototype.show=function(){if(this.content=this.getContent(),this.content){this.content.off("click",this.closeCallback).on("click",this.options.closeSelector,this.closeCallback);var o=this.options;this.tooltip=$('<div class="tooltip-frame"/>').addClass(o.cssClass).addClass("tooltip-"+i[o.position]).append(this.content.show()).append($('<div class="tip"/>')).appendTo("body"),t.activeTooltips.push(this),this.position()}},o.prototype.position=function(){var t=10,o=this.tooltip,i=this.target,s=this.options;if(o){o.removeAttr("style");var e=i.offset(),n=$(window).width(),l=o.outerWidth(),c=e.left+i.outerWidth()/2-l/2;t>c&&(c=t);var a=c+l-(n-t);a>0&&(c=Math.max(c-a,t)),o.css({left:c+"px","max-width":n-c-t+"px"}).find(".tip").css("left",e.left+i.outerWidth()/2-c+"px");var r=o.outerHeight();o.css("top",1==s.position?e.top-r-s.distance:e.top+i.outerHeight()+s.distance)}},o.prototype.close=function(){console.log("close22"),this.tooltip&&(1==this.options.source&&this.content.hide().appendTo("body"),this.tooltip.remove(),this.tooltip=null,this.target.data("tooltip",null),t.activeTooltips.splice(t.activeTooltips.indexOf(this),1))},o}();t.Tooltip=s}(Tooltip||(Tooltip={}));