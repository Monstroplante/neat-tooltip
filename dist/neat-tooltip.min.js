var Tooltip;!function(t){function o(){for(var o=0;o<t.activeTooltips.length;o++)t.activeTooltips[o].close()}function i(t,o,i){void 0===i&&(i=!0);for(var s=0;s<t.length;s++)if(i&&t.get(s)==o||$.contains(t.get(s),o))return!0;return!1}t.activeTooltips=[],function(t){t[t.bottom=0]="bottom",t[t.top=1]="top"}(t.Position||(t.Position={}));var s=t.Position;!function(t){t[t.title=0]="title",t[t.anchor=1]="anchor"}(t.Source||(t.Source={}));t.Source;!function(t){t[t.hover=0]="hover",t[t.click=1]="click"}(t.ShowOn||(t.ShowOn={}));t.ShowOn;!function(o){o.fn.showTooltip=function(t){return this.each(function(){new e(this,t)})},o.fn.closeTooltip=function(t){return this.each(function(){var t=o(this).data("tooltip");t&&t.close()})},o.fn.tooltip=function(t,i){if(void 0===i&&(i=0),0==i){var s=function(){o(this).showTooltip(t)};this.hover(s,function(){o(this).closeTooltip()}).click(s)}else 1==i&&this.click(function(){var i=o(this);return console.log(i.data("tooltip")),i.data("tooltip")?i.closeTooltip():i.showTooltip(t),!1});return this},o("html").click(function(o){for(var s=0;s<t.activeTooltips.length;s++){var e=t.activeTooltips[s],n=e.tooltip.add(e.target);e&&!i(n,o.target)&&e.close()}}),o(window).resize(function(){for(var o=0;o<t.activeTooltips.length;o++)t.activeTooltips[o].position()})}(jQuery);var e=function(){function i(t,o){var i=this;this.targetElem=t,this.options=o,this.closeCallback=function(){return i.close(),!1},this.options=$.extend({position:0,source:0,cssClass:"",closeSelector:".tooltip-close",distance:5,allowMultiple:!1},o),this.target=$(t).addClass("has-tooltip").closeTooltip().data("tooltip",this),this.show()}return i.prototype.getContent=function(){var t=this.options.content;if(t)return t=$.isFunction(t)?t():t,"string"==typeof t?$("<div>").html(t):$(t);if(0==this.options.source){var o=this.target.attr("title")||this.target.data("title");return this.target.attr("title","").data("title",o),$("<div>").html(o)}if(1==this.options.source){var i=$(this.target.attr("href"));return i.length?i:null}},i.prototype.toggle=function(){this.tooltip?this.close():this.show()},i.prototype.show=function(){if(this.content=this.getContent(),this.content){this.options.allowMultiple||o(),this.content.off("click",this.closeCallback).on("click",this.options.closeSelector,this.closeCallback);var i=this.options;this.tooltip=$('<div class="tooltip-frame"/>').addClass(i.cssClass).addClass("tooltip-"+s[i.position]).append(this.content.show()).append($('<div class="tip"/>')).appendTo("body"),t.activeTooltips.push(this),this.position()}},i.prototype.position=function(){var t=10,o=this.tooltip,i=this.target,s=this.options;if(o){o.removeAttr("style");var e=i.offset(),n=$(window).width(),l=o.outerWidth(),c=e.left+i.outerWidth()/2-l/2;t>c&&(c=t);var a=c+l-(n-t);a>0&&(c=Math.max(c-a,t)),o.css({left:c+"px","max-width":n-c-t+"px"}).find(".tip").css("left",e.left+i.outerWidth()/2-c+"px");var r=o.outerHeight();o.css("top",1==s.position?e.top-r-s.distance:e.top+i.outerHeight()+s.distance)}},i.prototype.close=function(){console.log("close22"),this.tooltip&&(1==this.options.source&&this.content.hide().appendTo("body"),this.tooltip.remove(),this.tooltip=null,this.target.data("tooltip",null),t.activeTooltips.splice(t.activeTooltips.indexOf(this),1))},i}();t.Tooltip=e}(Tooltip||(Tooltip={}));