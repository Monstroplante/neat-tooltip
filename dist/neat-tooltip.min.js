var Tooltip;!function(t){function o(t,o,i){void 0===i&&(i=!0);for(var s=0;s<t.length;s++)if(i&&t.get(s)==o||$.contains(t.get(s),o))return!0;return!1}var i,s=function(){i&&i.close()};$.tooltip=function(t){switch(t){case"close":s();break;case"get":return i;case"position":i&&i.position();break;default:throw"Not supported action "+t}},function(t){t.fn.showTooltip=function(t){this.length&&new e(this.eq(0),t)},t.fn.closeTooltip=function(o){return this.each(function(){var o=t(this).data("_tooltip");o&&o.close()})},t.fn.tooltip=function(o,i,s){if(void 0===i&&(i="hover"),"hover"==i){var e=function(){t(this).showTooltip(o)};this.on("mouseenter",s,e).on("mouseleave",s,function(){t(this).closeTooltip()}).on("click",s,e)}else{if("click"!=i)throw"This value is not supported for argument showOn: "+i;this.on("click",s,function(){var i=t(this);return i.data("_tooltip")?i.closeTooltip():i.showTooltip(o),!1})}return this},t("html").click(function(t){var s=i;s&&s.options.closeOnClickOuside&&!o(s.tooltip.add(s.target),t.target)&&s.close()}),t(window).resize(function(){t.tooltip("position")})}(jQuery);var e=function(){function t(t,o){var i=this;this.targetElem=t,this.options=o,this.closeCallback=function(){return i.close(),!1},this.options=$.extend({position:"bottom",source:"title",cssClass:"",closeSelector:".tooltip-close",distance:5,closeOnClickOuside:!0,delay:200,container:window,margin:10,appendTo:"body"},o),this.target=$(t).addClass("has-tooltip").data("_tooltip",this),this.showTimeout=setTimeout(function(){return i.show()},this.options.delay)}return t.prototype.getContent=function(){var t=this.options.content;if(t)return t=$.isFunction(t)?t.call(this.target):t,t?"string"==typeof t?$("<div>").html(t):$(t):null;if("title"==this.options.source){var o=this.target.attr("title")||this.target.data("title");return this.target.attr("title","").data("title",o),$("<div>").html(o)}if("anchor"==this.options.source){var i=$(this.target.attr("href"));return i.length?i:null}},t.prototype.show=function(){if(this.content=this.getContent(),this.content){s(),this.content.off("click",this.closeCallback).on("click",this.options.closeSelector,this.closeCallback);var t=this.options,o=$(this.options.appendTo).first();this.tooltip=$('<div class="tooltip-frame"/>').addClass(t.cssClass).addClass("tooltip-"+t.position).append(this.content.show()).append($('<div class="tip"/>')).appendTo(o),"static"==o.css("position")&&o.css("position","relative"),this.target.data("_tooltip",this),this.position(),i=this}},t.prototype.position=function(){var t=this.options.margin,o=this.tooltip,i=this.target,s=this.options;if(o){o.removeAttr("style");var e=i.offset(),n=this.options.container,l=n===window?0:$(n).offset().left,a=l+t,r=l+$(n).outerWidth()-t,c=o.outerWidth(),h=Math.max(a,e.left+i.outerWidth()/2-c/2),p=h+c-r;p>0&&(h=Math.max(a,h-p));var u=o.parent().offset();o.css({left:h-u.left+"px","max-width":r-h+"px"}).find(".tip").css("left",e.left+i.outerWidth()/2-h+"px");var f=o.outerHeight();o.css("top",("top"==s.position?e.top-f-s.distance:e.top+i.outerHeight()+s.distance)-u.top)}},t.prototype.close=function(){clearTimeout(this.showTimeout),this.tooltip&&("anchor"==this.options.source&&this.content.hide().appendTo("body"),this.tooltip.remove(),this.tooltip=null,this.target.data("_tooltip",null),i=null)},t}();t.Tooltip=e}(Tooltip||(Tooltip={}));